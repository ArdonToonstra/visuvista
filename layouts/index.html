{{ define "main" }}
  <!-- Video Hero Banner -->
  {{ with .Params.banner }}
    <section class="section pt-14">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-7 md:col-9 mb-8 text-center">
            <h1 class="mb-4 text-h3 lg:text-h1">
              {{ .title | markdownify }}
            </h1>
            <p class="mb-8">
              {{ .content | markdownify }}
            </p>
            {{ with .button }}
              {{ if .enable }}
                <a
                  class="btn btn-primary"
                  href="{{ .link | absURL }}"
                  {{ if strings.HasPrefix .link `http` }}
                    target="_blank" rel="noopener"
                  {{ end }}>
                  {{ .label }}
                  <i class="fa fa-arrow-right pl-2"></i>
                </a>
              {{ end }}
            {{ end }}
          </div>
          <div class="col-12">
            <div class="video-container mx-auto" style="max-width: 900px;">
              {{ $video := resources.Get "images/house_transformation.mp4" }}
              {{ if $video }}
              <video 
                class="w-full h-auto rounded-lg shadow-lg" 
                autoplay 
                muted 
                loop 
                playsinline
                style="display: block;">
                <source src="{{ $video.Permalink }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
              {{ else }}
              <p>Video not found</p>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}
  <!-- /Video Hero Banner -->


  <!-- Services Showcase -->
  <section class="section">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-8 text-center">
          <h2 class="mb-4 text-h2">{{ .Params.services_title }}</h2>
          <p class="mb-12 text-lg">{{ .Params.services_description }}</p>
        </div>
      </div>
      <div class="row gy-4">
        <!-- LiDAR Scanning -->
        <div class="md:col-6 lg:col-4">
          <div class="service-card h-full bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
            <div class="mb-4">
              <i class="fa-solid fa-cube text-4xl text-primary mb-3"></i>
              <h3 class="text-h4 mb-3">
                {{ if eq .Site.Language.Lang "es" }}
                  Escaneo LiDAR
                {{ else if eq .Site.Language.Lang "nl" }}
                  LiDAR Scanning
                {{ else }}
                  LiDAR Scanning
                {{ end }}
              </h3>
            </div>
            <p class="mb-4">
              {{ if eq .Site.Language.Lang "es" }}
                Capturamos cada detalle con precisión milimétrica usando tecnología de escaneo 3D avanzada.
              {{ else if eq .Site.Language.Lang "nl" }}
                Wij leggen elk detail vast met millimeter-nauwkeurigheid met behulp van geavanceerde 3D-scantechnologie.
              {{ else }}
                We capture every detail with millimeter precision using advanced 3D scanning technology.
              {{ end }}
            </p>
          </div>
        </div>

        <!-- Interior Design -->
        <div class="md:col-6 lg:col-4">
          <div class="service-card h-full bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
            <div class="mb-4">
              <i class="fa-solid fa-palette text-4xl text-primary mb-3"></i>
              <h3 class="text-h4 mb-3">
                {{ if eq .Site.Language.Lang "es" }}
                  Diseño de Interiores
                {{ else if eq .Site.Language.Lang "nl" }}
                  Interieurontwerp
                {{ else }}
                  Interior Design
                {{ end }}
              </h3>
            </div>
            <p class="mb-4">
              {{ if eq .Site.Language.Lang "es" }}
                Diseño basado en datos reales del espacio, desde planes de iluminación hasta selección de materiales.
              {{ else if eq .Site.Language.Lang "nl" }}
                Ontwerp gebaseerd op echte ruimtegegevens, van lichtplannen tot materiaalselectie.
              {{ else }}
                Data-driven design based on real space measurements, from lighting plans to material selection.
              {{ end }}
            </p>
          </div>
        </div>

        <!-- Renovation Visualization -->
        <div class="md:col-6 lg:col-4">
          <div class="service-card h-full bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
            <div class="mb-4">
              <i class="fa-solid fa-drafting-compass text-4xl text-primary mb-3"></i>
              <h3 class="text-h4 mb-3">
                {{ if eq .Site.Language.Lang "es" }}
                  Visualización de Renovaciones
                {{ else if eq .Site.Language.Lang "nl" }}
                  Renovatie Visualisatie
                {{ else }}
                  Renovation Visualization
                {{ end }}
              </h3>
            </div>
            <p class="mb-4">
              {{ if eq .Site.Language.Lang "es" }}
                Ve tu renovación antes de construir con visualizaciones 3D fotorrealistas y comparaciones detalladas.
              {{ else if eq .Site.Language.Lang "nl" }}
                Zie uw renovatie voordat u bouwt met fotorealistische 3D visualisaties en gedetailleerde vergelijkingen.
              {{ else }}
                See your renovation before you build with photorealistic 3D visualizations and detailed comparisons.
              {{ end }}
            </p>
          </div>
        </div>

        <!-- VR Tours -->
        <div class="md:col-6 lg:col-4">
          <div class="service-card h-full bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
            <div class="mb-4">
              <i class="fa-solid fa-vr-cardboard text-4xl text-primary mb-3"></i>
              <h3 class="text-h4 mb-3">
                {{ if eq .Site.Language.Lang "es" }}
                  Tours VR
                {{ else if eq .Site.Language.Lang "nl" }}
                  VR Tours
                {{ else }}
                  VR Tours
                {{ end }}
              </h3>
            </div>
            <p class="mb-4">
              {{ if eq .Site.Language.Lang "es" }}
                Experimenta espacios de forma inmersiva con realidad virtual y explora diferentes opciones de diseño.
              {{ else if eq .Site.Language.Lang "nl" }}
                Ervaar ruimtes op immersieve wijze met virtual reality en verken verschillende ontwerpopties.
              {{ else }}
                Experience spaces immersively with virtual reality and explore different design options.
              {{ end }}
            </p>
          </div>
        </div>

        <!-- Construction Documentation -->
        <div class="md:col-6 lg:col-4">
          <div class="service-card h-full bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
            <div class="mb-4">
              <i class="fa-solid fa-hard-hat text-4xl text-primary mb-3"></i>
              <h3 class="text-h4 mb-3">
                {{ if eq .Site.Language.Lang "es" }}
                  Documentación de Construcción
                {{ else if eq .Site.Language.Lang "nl" }}
                  Bouw Documentatie
                {{ else }}
                  Construction Documentation
                {{ end }}
              </h3>
            </div>
            <p class="mb-4">
              {{ if eq .Site.Language.Lang "es" }}
                Seguimiento preciso del progreso de construcción con documentación detallada y control de calidad.
              {{ else if eq .Site.Language.Lang "nl" }}
                Nauwkeurige monitoring van bouwvoortgang met gedetailleerde documentatie en kwaliteitscontrole.
              {{ else }}
                Accurate construction progress tracking with detailed documentation and quality control.
              {{ end }}
            </p>
          </div>
        </div>
      </div>
      
      <div class="row justify-center mt-8">
        <div class="text-center">
          <a href="/services" class="btn btn-primary">
            {{ if eq .Site.Language.Lang "es" }}
              Ver Todos los Servicios
            {{ else if eq .Site.Language.Lang "nl" }}
              Bekijk Alle Diensten
            {{ else }}
              View All Services
            {{ end }}
          </a>
        </div>
      </div>
    </div>
  </section>
  <!-- /Services Showcase -->

  <!-- Features -->
  {{ range $i, $e:= .Params.features }}
    <section class="section-sm {{ if (modBool $i 2) }}bg-gradient{{ end }}">
      <div class="container">
        <div class="row items-center justify-between">
          <div
            class="mb:md-0 {{ if not (modBool $i 2) }}
              md:order-2
            {{ end }} md:col-5 mb-6">
            {{ partial "image" (dict "Src" .image "Alt" "feature image" "DisplayXL" "520x" "DisplayLG" "425x" "DisplayMD" "360x") }}
          </div>
          <div
            class="{{ if not (modBool $i 2) }}
              md:order-1
            {{ end }} md:col-7">
            <div
              class="{{ if not (modBool $i 2) }}
                md:pr-6
              {{ else }}
                md:pl-6
              {{ end }}">
              <h2 class="mb-4">
                {{ .title | markdownify }}
              </h2>
              <p class="mb-8 text-lg">
                {{ .content | markdownify }}
              </p>
              <ul>
                {{ range .bulletpoints }}
                  <li class="relative mb-4 pl-6">
                    <i class="fa fa-check absolute left-0 top-1.5 text-primary"></i>
                    {{ . | markdownify }}
                  </li>
                {{ end }}
              </ul>
              {{ with .button }}
                {{ if .enable }}
                  <a class="btn btn-primary mt-5" href="{{ .link | absURL }}">
                    {{ .label }}
                    <i class="fa fa-arrow-right pl-2"></i>
                  </a>
                {{ end }}
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}
  <!-- /Features -->

  <!-- workflow -->
  {{ range $i, $e:= .Params.workflow }} 
    <section class="section pb-0">
      <div class="mb-8 text-center">
        {{ with .title }}<h2 class="mb-4">{{ . }}</h2>{{ end }}
        {{ with .description }}<p>{{ . }}</p>{{ end }}
      </div>
      <div class="container">
        <div class="row">
          <div class="mx-auto lg:col-10">
            <div class="row">
              {{ range $i, $e := .image }}<div class="mb-8 md:col-6">
                {{ partial "image" (dict "Src" . "Alt" "workflow image" "DisplayXL" "492x" "DisplayLG" "400x" "DisplayMD" "360x") }}
              </div>{{ end }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}
  <!-- ./workflow -->

  <!-- Process Section -->
  <section class="section">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-8 text-center">
          <h2 class="mb-4 text-h2">{{ .Params.process.title }}</h2>
          <p class="mb-16 text-lg opacity-80">{{ .Params.process.description }}</p>
        </div>
      </div>

      <!-- Modern Timeline Process -->
      <div class="row justify-center">
        <div class="lg:col-10">
          <div class="relative">
            <!-- Vertical Timeline Line -->
            <div class="absolute left-8 md:left-1/2 md:transform md:-translate-x-px top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary/30 via-primary to-primary/30"></div>
            
            <!-- Process Steps -->
            <div class="space-y-12">
              {{ range $index, $step := .Params.process.steps }}
              <!-- Step {{ add $index 1 }} -->
              <div class="relative flex items-center md:justify-center">
                <div class="flex items-center w-full {{ if odd $index }}md:w-1/2 md:pl-8{{ else }}md:w-1/2 md:pr-8{{ end }}">
                  <div class="flex-shrink-0 w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg z-10 relative">
                    <i class="{{ $step.icon }} text-xl"></i>
                  </div>
                  <div class="ml-6 {{ if odd $index }}flex-grow{{ else }}md:ml-0 md:text-right flex-grow{{ end }}">
                    <h4 class="text-h5 mb-2 font-semibold">{{ $step.title }}</h4>
                    <p class="text-sm opacity-80 leading-relaxed">{{ $step.description }}</p>
                  </div>
                </div>
                {{ if odd $index }}<div class="hidden md:block w-1/2"></div>{{ else }}<div class="hidden md:block w-1/2"></div>{{ end }}
              </div>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- /Process Section -->

  <!-- Call to action -->
  {{ partial "call-to-action.html" . }}
  <!-- /Call to action -->

{{ end }}